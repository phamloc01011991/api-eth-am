"use strict";

// eslint-disable-next-line import/no-unassigned-import
require('console-polyfill');

// eslint-disable-next-line unicorn/prefer-node-protocol
const os = require('os');
const format = require('@ladjs/format-util');
const formatSpecifiers = require('format-specifiers');
const get = require('@strikeentco/get');
const isError = require('iserror');
const isSymbol = require('is-symbol');
const mergeOptions = require('merge-options');
const pMapSeries = require('p-map-series');
const parseAppInfo = require('parse-app-info');
const parseErr = require('parse-err');
const pickDeep = require('pick-deep');
const set = require('@strikeentco/set');
const unset = require('unset-value');
const {
  boolean
} = require('boolean');
const pkg = require('../package.json');
const silentSymbol = Symbol.for('axe.silent');
const omittedLoggerKeys = new Set(['config', 'log']);
const levels = ['trace', 'debug', 'info', 'warn', 'error', 'fatal'];
const aliases = {
  warning: 'warn',
  err: 'error'
};
const levelError = `\`level\` invalid, must be: ${levels.join(', ')}`;
const name = process.env.NODE_ENV === 'development' ? false : process.env.HOSTNAME || os.hostname();

// <https://github.com/sindresorhus/is-plain-obj/blob/main/index.js>
function isPlainObject(value) {
  if (typeof value !== 'object' || value === null) {
    return false;
  }
  const prototype = Object.getPrototypeOf(value);
  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in value) && !(Symbol.iterator in value) && !isSymbol(value);
}

// <https://github.com/GeenenTijd/dotify/blob/master/dotify.js>
function dotifyToArray(obj) {
  const res = [];
  function recurse(obj, current) {
    for (const key of Reflect.ownKeys(obj)) {
      const value = obj[key];
      const convertedKey = isSymbol(key) ? Symbol.keyFor(key) || key.description : key;
      const newKey = current ? current + '.' + convertedKey : convertedKey; // joined key with dot
      // if (value && typeof value === 'object' && !(value instanceof Date) && !ObjectID.isValid(value)) {
      if (isPlainObject(value) && res.indexOf(convertedKey) === -1) {
        res.push(convertedKey);
        recurse(value, newKey); // it's a nested object, so do it again
      } else if (res.indexOf(newKey) === -1) {
        res.push(newKey);
      }
    }
  }
  recurse(obj);
  return res;
}

// <https://stackoverflow.com/a/43233163>
function isEmpty(value) {
  return value === undefined || value === null || typeof value === 'object' && Reflect.ownKeys(value).length === 0 || typeof value === 'string' && value.trim().length === 0;
}
function isNull(value) {
  return value === null;
}
function isUndefined(value) {
  return value === undefined;
}
function isObject(value) {
  return typeof value === 'object' && value !== null && !Array.isArray(value);
}
function isString(value) {
  return typeof value === 'string';
}
function isFunction(value) {
  return typeof value === 'function';
}
function getFunction(value) {
  return isFunction(value) ? value : null;
}
class Axe {
  // eslint-disable-next-line complexity
  constructor() {
    var _this = this;
    let config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    const remappedFields = {};
    if (process.env.AXE_REMAPPED_META_FIELDS) {
      const fields = process.env.AXE_REMAPPED_META_FIELDS;
      const arr = fields.split(',').map(v => v.split(':'));
      for (const [prop, value] of arr) {
        remappedFields[prop] = value;
      }
    }

    // envify does not support conditionals well enough so we declare vars outside
    let omittedFields = process.env.AXE_OMIT_META_FIELDS;
    if (typeof omittedFields === 'string') omittedFields = omittedFields.split(',').map(s => s.trim());
    if (!Array.isArray(omittedFields)) omittedFields = [];
    let pickedFields = process.env.AXE_PICK_META_FIELDS;
    if (typeof pickedFields === 'string') pickedFields = pickedFields.split(',').map(s => s.trim());
    if (!Array.isArray(pickedFields)) pickedFields = [];
    this.config = mergeOptions({
      showStack: process.env.AXE_SHOW_STACK ? boolean(process.env.AXE_SHOW_STACK) : true,
      meta: Object.assign({
        show: process.env.AXE_SHOW_META ? boolean(process.env.AXE_SHOW_META) : true,
        remappedFields,
        omittedFields,
        pickedFields,
        cleanupRemapping: true,
        hideHTTP: 'is_http',
        // implemented mainly for @ladjs/graceful to
        // suppress unnecessary meta output to console
        hideMeta: 'hide_meta'
      }, typeof config.meta === 'object' ? config.meta : {}),
      version: pkg.version,
      silent: false,
      logger: console,
      name,
      level: 'info',
      levels: ['info', 'warn', 'error', 'fatal'],
      appInfo: process.env.AXE_APP_INFO ? boolean(process.env.AXE_APP_INFO) : true,
      hooks: Object.assign({
        pre: [],
        post: []
      }, typeof config.hooks === 'object' ? config.hooks : {})
    }, config);
    this.appInfo = this.config.appInfo ? isFunction(parseAppInfo) ? parseAppInfo() : false : false;
    this.log = this.log.bind(this);

    // Inherit methods from parent logger
    const methods = Object.keys(this.config.logger).filter(key => !omittedLoggerKeys.has(key));
    for (const element of methods) {
      this[element] = this.config.logger[element];
    }

    // Bind helper functions for each log level
    for (const element of levels) {
      // Ensure function exists in logger passed
      if (element === 'fatal') {
        this.config.logger.fatal = getFunction(this.config.logger[element]) || getFunction(this.config.logger.error) || getFunction(this.config.logger.info) || getFunction(this.config.logger.log);
      } else {
        this.config.logger[element] = getFunction(this.config.logger[element]) || getFunction(this.config.logger.info) || getFunction(this.config.logger.log);
      }
      if (!isFunction(this.config.logger[element])) {
        throw new Error(`\`${element}\` must be a function on the logger.`);
      }

      // Bind log handler which normalizes args and populates meta
      this[element] = function () {
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        return _this.log(element, ...Array.prototype.slice.call(args));
      };
    }
    this.setLevel = this.setLevel.bind(this);
    this.getNormalizedLevel = this.getNormalizedLevel.bind(this);
    this.setName = this.setName.bind(this);

    // Set the logger name
    if (this.config.name) this.setName(this.config.name);

    // Set the logger level
    this.setLevel(this.config.level);

    // Aliases
    this.err = this.error;
    this.warning = this.warn;

    // Pre and Post Hooks
    this.pre = function (level, fn) {
      this.config.hooks.pre.push(function (_level) {
        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
          args[_key2 - 1] = arguments[_key2];
        }
        if (level !== _level) return [...args];
        return fn(...args);
      });
    };
    this.post = function (level, fn) {
      this.config.hooks.post.push(function (_level) {
        for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
          args[_key3 - 1] = arguments[_key3];
        }
        if (level !== _level) return [...args];
        return fn(...args);
      });
    };
  }
  setLevel(level) {
    if (!isString(level) || levels.indexOf(level) === -1) throw new Error(levelError);
    // Support signale logger and other loggers that use `logLevel`
    if (isString(this.config.logger.logLevel)) this.config.logger.logLevel = level;else this.config.logger.level = level;
    // Adjusts `this.config.levels` array
    // so that it has all proceeding (inclusive)
    this.config.levels = levels.slice(levels.indexOf(level));
  }
  getNormalizedLevel(level) {
    if (!isString(level)) return 'info';
    if (isString(aliases[level])) return aliases[level];
    if (levels.indexOf(level) === -1) return 'info';
    return level;
  }
  setName(name) {
    if (!isString(name)) throw new Error('`name` must be a String');
    // Support signale logger and other loggers that use `scope`
    if (isString(this.config.logger.scope)) this.config.logger.scope = name;else this.config.logger.name = name;
  }

  // eslint-disable-next-line complexity
  log(level, message, meta) {
    const originalArgs = [];
    const errors = [];
    let hasMessage = false;
    let hasLevel = true;
    if (!isUndefined(level)) originalArgs.push(level);
    if (!isUndefined(message)) originalArgs.push(message);
    if (!isUndefined(meta)) originalArgs.push(meta);
    for (var _len4 = arguments.length, args = new Array(_len4 > 3 ? _len4 - 3 : 0), _key4 = 3; _key4 < _len4; _key4++) {
      args[_key4 - 3] = arguments[_key4];
    }
    for (const arg of Array.prototype.slice.call(args)) {
      originalArgs.push(arg);
    }
    let modifier = 0;
    if (isString(level) && isString(aliases[level])) {
      level = aliases[level];
    } else if (isError(level)) {
      hasLevel = false;
      meta = message;
      message = level;
      level = 'error';
    } else if (!isString(level) || levels.indexOf(level) === -1) {
      hasLevel = false;
      meta = message;
      message = level;
      level = this.getNormalizedLevel(level);
      modifier = -1;
    }

    // Return early if it is not a valid logging level
    if (this.config.levels.indexOf(level) === -1) return;

    // Bunyan support (meta, message, ...args)
    let isBunyan = false;
    if ((isObject(message) || Array.isArray(message)) && isString(meta)) {
      isBunyan = true;
      const _meta = meta;
      meta = message;
      message = isString(_meta) && originalArgs.length >= 3 + modifier ? format(...originalArgs.slice(2 + modifier)) : _meta;
    }

    // If message was undefined then set it to level
    if (isUndefined(message)) message = level;

    // If only `message` was passed then if it was an Object
    // preserve it as an Object by setting it as meta
    if (originalArgs.slice(1 + modifier).length === 1 && !isString(message) && !isError(message)) {
      meta = {
        message
      };
      message = level;
    } else if (!isBunyan && originalArgs.length >= 4 + modifier) {
      message = undefined;
      meta = {};
      const messages = [];
      for (const arg of originalArgs.slice(hasLevel && modifier === 0 ? 1 : 0)) {
        if (isError(arg)) errors.push(arg);
        // pushes number, object, string, etc for formatting
        else messages.push(arg);
      }
      if (messages.length > 0) {
        message = format(...messages);
        hasMessage = true;
      }
      if (errors.length > 0 && level === 'log') level = 'error';
    } else if (!isBunyan && originalArgs.length === 3 + modifier && isString(message) && formatSpecifiers.some(t => message.indexOf(t) !== -1)) {
      // Otherwise if there are three args and if the `message` contains
      // a placeholder token (e.g. '%s' or '%d' - see above `formatSpecifiers` variable)
      // then we can infer that the `meta` arg passed is used for formatting
      message = format(message, meta);
      meta = {};
    } else if (!isError(message)) {
      if (isError(meta)) {
        errors.push(meta);
        meta = {};
      } else if (!isObject(meta) && !isUndefined(meta) && !isNull(meta)) {
        // If the `meta` variable passed was not an Object then convert it
        message = format(message, meta);
        meta = {};
      } else if (!isString(message)) {
        // If the message is not a string then we should run `util.format` on it
        // assuming we're formatting it like it was another argument
        // (as opposed to using something like fast-json-stringify)
        message = format(message);
      }
    } else if (isError(meta)) {
      errors.push(meta);
      // handle additional args
      const messages = [];
      if (isError(message)) {
        errors.unshift(message);
        message = undefined;
      }
      for (const arg of originalArgs.slice(2 + modifier)) {
        // should skip this better with slice and modifier adjustment
        if (meta === arg) continue;
        if (isError(arg)) errors.push(arg);else messages.push(arg);
        if (messages.length > 0) {
          message = format(...messages);
          hasMessage = true;
        }
      }
      if (level === 'log') level = 'error';
      meta = {};
    }
    if (!isUndefined(meta) && !isObject(meta)) meta = {
      original_meta: meta
    };else if (!isObject(meta)) meta = {};
    if (isError(message)) {
      errors.unshift(message);
      message = undefined;
    }

    //
    // rewrite `meta.err` to `meta.original_err` for consistency
    // (in case someone has an object with `.err` property on it with an error)
    //
    if (isObject(meta.err)) {
      if (isError(meta.err)) errors.push(meta.err);
      meta.original_err = isError(meta.err) ? parseErr(meta.err) : meta.err;
    }
    let err;
    if (errors.length > 0) {
      if (errors.length === 1) {
        err = errors[0];
      } else {
        err = new Error([...new Set(errors.map(e => e.message).filter(Boolean))].join('; '));
        err.stack = [...new Set(errors.map(e => e.stack).filter(Boolean))].join('\n\n');
        err.errors = errors;
      }
      meta.err = parseErr(err);
      if (!isString(message)) message = err.message;
    }

    //
    // NOTE: this was removed in v10.2.2 due to circular reference issues
    //       (the workaround would involve safeStringify and then JSON.parse which would be perf bloat)
    //       (there still might be another workaround or perhaps we don't add all the args here except additional)
    //
    // Set `args` prop with original arguments passed
    // meta.args = originalArgs;

    // Set default level on meta
    meta.level = level;

    // Add `app` object to metadata
    if (this.appInfo) meta.app = this.appInfo;

    //
    // determine log method to use
    //
    // if we didn't pass a level as a method
    // (e.g. console.info), then we should still
    // use the logger's `log` method to output
    //
    // and fatal should use error (e.g. in browser)
    //
    const method = modifier === -1 ? 'log' : level;

    // pre-hooks
    for (const hook of this.config.hooks.pre) {
      [err, message, meta] = hook(method, err, message, meta);
    }

    //
    // NOTE: using lodash _.omit and _.pick would have been _very slow_
    //
    // const omittedAndPickedFields = {
    //   ..._.omit(meta, this.config.meta.omittedFields),
    //   ..._.pick(meta, this.config.meta.pickedFields)
    // };
    //
    // also we don't want to mutate anything in `meta`
    // and ideally we only want to pick exactly what we need
    // (and not have two operations, one for omit, and one for pick)
    //

    // set a boolean flag if we had the silent symbol or not
    const hadTrueSilentSymbol = boolean(meta[silentSymbol]);
    if (!isEmpty(this.config.meta.remappedFields)) {
      for (const key of Reflect.ownKeys(this.config.meta.remappedFields)) {
        set(meta, this.config.meta.remappedFields[key], get(meta, key));
        unset(meta, key);
        // cleanup empty objects after remapping
        if (this.config.meta.cleanupRemapping) {
          const index = key.lastIndexOf('.');
          if (index === -1) continue;
          const parentKey = key.slice(0, index);
          if (isEmpty(get(meta, parentKey))) unset(meta, parentKey);
        }
      }
    }
    if (!isEmpty(this.config.meta.omittedFields) || !isEmpty(this.config.meta.pickedFields)) {
      const dotified = dotifyToArray(meta);
      // dotified = [
      //   'err.name',
      //   'err.message',
      //   'err.stack',
      //   'level',
      //   'app.name',
      //   'app.version',
      //   'app.node',
      //   'app.hash',
      //   // ...
      // ]

      if (!isEmpty(this.config.meta.omittedFields)) {
        for (const prop of this.config.meta.omittedFields) {
          // <https://stackoverflow.com/a/9882349>
          let i = dotified.length;
          while (i--) {
            if (dotified[i] === prop || !isSymbol(dotified[i]) && dotified[i].indexOf(`${prop}.`) === 0) dotified.splice(i, 1);
          }
        }
      }
      const pickedSymbols = [];
      if (!isEmpty(this.config.meta.pickedFields)) {
        for (const prop of this.config.meta.pickedFields) {
          // response.headers.boop
          // response.headers.beep
          // response.body
          // response.text
          // response
          //
          // so we need to split by the first period and omit any keys from dotified starting with it
          if (isSymbol(prop)) {
            if (meta[prop]) pickedSymbols.push([prop, meta[prop]]);
          } else {
            const index = prop.indexOf('.');
            const key = prop.slice(0, index + 1);
            if (index !== -1) {
              let i = dotified.length;
              while (i--) {
                if (dotified[i] === key.slice(0, -1)) dotified.splice(i, 1);else if (dotified[i].indexOf(key) === 0) dotified.splice(i, 1);
              }
            }
          }

          // finally add it if it did not already exist
          if (dotified.indexOf(prop) === -1) dotified.push(prop);
        }
      }

      //
      // iterate over all dotified values to check for symbols
      //
      // NOTE: this does not take into account that they could already be in `pickedSymbols`
      //       (and it doesn't also do bigints yet)
      //
      for (const prop of dotified) {
        if (isSymbol(prop)) {
          if (meta[prop] !== undefined) pickedSymbols.push([prop, meta[prop]]);
        } else if (meta[Symbol.for(prop)] !== undefined) {
          pickedSymbols.push([Symbol.for(prop), meta[Symbol.for(prop)]]);
        }
      }

      //
      // now we call pick-deep using the final array
      //
      // NOTE: this does not pick symbols, bigints, nor streams
      //       <https://github.com/strikeentco/pick-deep/issues/2>
      //       <https://github.com/strikeentco/pick-deep/issues/2>
      //
      // NOTE: this is wrapped in try/catch in case similar errors occur
      //       <https://github.com/stripe/stripe-node/issues/1796>
      //
      try {
        meta = pickDeep(meta, dotified);
      } catch (err) {
        this.config.logger.error(err);
      }

      //
      // if there were any top-level symbols to be
      // picked then we need to add them back here to the list
      //
      // NOTE: we'd probably want to do the same for bigints as symbols
      //
      if (pickedSymbols.length > 0) {
        for (const [key, value] of pickedSymbols) {
          meta[key] = value;
        }
      }
    }

    // only invoke logger methods if it was not silent
    if (!this.config.silent && !hadTrueSilentSymbol) {
      // Show stack trace if necessary (along with any metadata)
      if (isError(err) && this.config.showStack) {
        if (!this.config.meta.show || isEmpty(meta)) {
          this.config.logger[method](...(hasMessage ? [message, err] : [err]));
        } else if (this.config.meta.hideMeta && meta[this.config.meta.hideMeta]) {
          this.config.logger[method](...(hasMessage ? [message, err] : [err]));
        } else {
          this.config.logger[method](...(hasMessage ? [message, err, meta] : [err, meta]));
        }
      } else if (!this.config.meta.show || isEmpty(meta)) {
        this.config.logger[method](message);
      } else if (this.config.meta.hideMeta && meta[this.config.meta.hideMeta] || this.config.meta.hideHTTP && meta[this.config.meta.hideHTTP]) {
        this.config.logger[method](message);
      } else {
        this.config.logger[method](message, meta);
      }
    }

    // post-hooks
    if (this.config.hooks.post.length === 0) return {
      method,
      err,
      message,
      meta
    };
    return pMapSeries(this.config.hooks.post, hook => hook(method, err, message, meta)).then().catch(err => {
      this.config.logger.error(err);
    });
  }
}
module.exports = Axe;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwib3MiLCJmb3JtYXQiLCJmb3JtYXRTcGVjaWZpZXJzIiwiZ2V0IiwiaXNFcnJvciIsImlzU3ltYm9sIiwibWVyZ2VPcHRpb25zIiwicE1hcFNlcmllcyIsInBhcnNlQXBwSW5mbyIsInBhcnNlRXJyIiwicGlja0RlZXAiLCJzZXQiLCJ1bnNldCIsImJvb2xlYW4iLCJwa2ciLCJzaWxlbnRTeW1ib2wiLCJTeW1ib2wiLCJmb3IiLCJvbWl0dGVkTG9nZ2VyS2V5cyIsIlNldCIsImxldmVscyIsImFsaWFzZXMiLCJ3YXJuaW5nIiwiZXJyIiwibGV2ZWxFcnJvciIsImpvaW4iLCJuYW1lIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiSE9TVE5BTUUiLCJob3N0bmFtZSIsImlzUGxhaW5PYmplY3QiLCJ2YWx1ZSIsInByb3RvdHlwZSIsIk9iamVjdCIsImdldFByb3RvdHlwZU9mIiwidG9TdHJpbmdUYWciLCJpdGVyYXRvciIsImRvdGlmeVRvQXJyYXkiLCJvYmoiLCJyZXMiLCJyZWN1cnNlIiwiY3VycmVudCIsImtleSIsIlJlZmxlY3QiLCJvd25LZXlzIiwiY29udmVydGVkS2V5Iiwia2V5Rm9yIiwiZGVzY3JpcHRpb24iLCJuZXdLZXkiLCJpbmRleE9mIiwicHVzaCIsImlzRW1wdHkiLCJ1bmRlZmluZWQiLCJsZW5ndGgiLCJ0cmltIiwiaXNOdWxsIiwiaXNVbmRlZmluZWQiLCJpc09iamVjdCIsIkFycmF5IiwiaXNBcnJheSIsImlzU3RyaW5nIiwiaXNGdW5jdGlvbiIsImdldEZ1bmN0aW9uIiwiQXhlIiwiY29uc3RydWN0b3IiLCJfdGhpcyIsImNvbmZpZyIsImFyZ3VtZW50cyIsInJlbWFwcGVkRmllbGRzIiwiQVhFX1JFTUFQUEVEX01FVEFfRklFTERTIiwiZmllbGRzIiwiYXJyIiwic3BsaXQiLCJtYXAiLCJ2IiwicHJvcCIsIm9taXR0ZWRGaWVsZHMiLCJBWEVfT01JVF9NRVRBX0ZJRUxEUyIsInMiLCJwaWNrZWRGaWVsZHMiLCJBWEVfUElDS19NRVRBX0ZJRUxEUyIsInNob3dTdGFjayIsIkFYRV9TSE9XX1NUQUNLIiwibWV0YSIsImFzc2lnbiIsInNob3ciLCJBWEVfU0hPV19NRVRBIiwiY2xlYW51cFJlbWFwcGluZyIsImhpZGVIVFRQIiwiaGlkZU1ldGEiLCJ2ZXJzaW9uIiwic2lsZW50IiwibG9nZ2VyIiwiY29uc29sZSIsImxldmVsIiwiYXBwSW5mbyIsIkFYRV9BUFBfSU5GTyIsImhvb2tzIiwicHJlIiwicG9zdCIsImxvZyIsImJpbmQiLCJtZXRob2RzIiwia2V5cyIsImZpbHRlciIsImhhcyIsImVsZW1lbnQiLCJmYXRhbCIsImVycm9yIiwiaW5mbyIsIkVycm9yIiwiX2xlbiIsImFyZ3MiLCJfa2V5Iiwic2xpY2UiLCJjYWxsIiwic2V0TGV2ZWwiLCJnZXROb3JtYWxpemVkTGV2ZWwiLCJzZXROYW1lIiwid2FybiIsImZuIiwiX2xldmVsIiwiX2xlbjIiLCJfa2V5MiIsIl9sZW4zIiwiX2tleTMiLCJsb2dMZXZlbCIsInNjb3BlIiwibWVzc2FnZSIsIm9yaWdpbmFsQXJncyIsImVycm9ycyIsImhhc01lc3NhZ2UiLCJoYXNMZXZlbCIsIl9sZW40IiwiX2tleTQiLCJhcmciLCJtb2RpZmllciIsImlzQnVueWFuIiwiX21ldGEiLCJtZXNzYWdlcyIsInNvbWUiLCJ0IiwidW5zaGlmdCIsIm9yaWdpbmFsX21ldGEiLCJvcmlnaW5hbF9lcnIiLCJlIiwiQm9vbGVhbiIsInN0YWNrIiwiYXBwIiwibWV0aG9kIiwiaG9vayIsImhhZFRydWVTaWxlbnRTeW1ib2wiLCJpbmRleCIsImxhc3RJbmRleE9mIiwicGFyZW50S2V5IiwiZG90aWZpZWQiLCJpIiwic3BsaWNlIiwicGlja2VkU3ltYm9scyIsInRoZW4iLCJjYXRjaCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyIuLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bmFzc2lnbmVkLWltcG9ydFxucmVxdWlyZSgnY29uc29sZS1wb2x5ZmlsbCcpO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9wcmVmZXItbm9kZS1wcm90b2NvbFxuY29uc3Qgb3MgPSByZXF1aXJlKCdvcycpO1xuY29uc3QgZm9ybWF0ID0gcmVxdWlyZSgnQGxhZGpzL2Zvcm1hdC11dGlsJyk7XG5jb25zdCBmb3JtYXRTcGVjaWZpZXJzID0gcmVxdWlyZSgnZm9ybWF0LXNwZWNpZmllcnMnKTtcbmNvbnN0IGdldCA9IHJlcXVpcmUoJ0BzdHJpa2VlbnRjby9nZXQnKTtcbmNvbnN0IGlzRXJyb3IgPSByZXF1aXJlKCdpc2Vycm9yJyk7XG5jb25zdCBpc1N5bWJvbCA9IHJlcXVpcmUoJ2lzLXN5bWJvbCcpO1xuY29uc3QgbWVyZ2VPcHRpb25zID0gcmVxdWlyZSgnbWVyZ2Utb3B0aW9ucycpO1xuY29uc3QgcE1hcFNlcmllcyA9IHJlcXVpcmUoJ3AtbWFwLXNlcmllcycpO1xuY29uc3QgcGFyc2VBcHBJbmZvID0gcmVxdWlyZSgncGFyc2UtYXBwLWluZm8nKTtcbmNvbnN0IHBhcnNlRXJyID0gcmVxdWlyZSgncGFyc2UtZXJyJyk7XG5jb25zdCBwaWNrRGVlcCA9IHJlcXVpcmUoJ3BpY2stZGVlcCcpO1xuY29uc3Qgc2V0ID0gcmVxdWlyZSgnQHN0cmlrZWVudGNvL3NldCcpO1xuY29uc3QgdW5zZXQgPSByZXF1aXJlKCd1bnNldC12YWx1ZScpO1xuY29uc3QgeyBib29sZWFuIH0gPSByZXF1aXJlKCdib29sZWFuJyk7XG5jb25zdCBwa2cgPSByZXF1aXJlKCcuLi9wYWNrYWdlLmpzb24nKTtcblxuY29uc3Qgc2lsZW50U3ltYm9sID0gU3ltYm9sLmZvcignYXhlLnNpbGVudCcpO1xuY29uc3Qgb21pdHRlZExvZ2dlcktleXMgPSBuZXcgU2V0KFsnY29uZmlnJywgJ2xvZyddKTtcbmNvbnN0IGxldmVscyA9IFsndHJhY2UnLCAnZGVidWcnLCAnaW5mbycsICd3YXJuJywgJ2Vycm9yJywgJ2ZhdGFsJ107XG5jb25zdCBhbGlhc2VzID0geyB3YXJuaW5nOiAnd2FybicsIGVycjogJ2Vycm9yJyB9O1xuY29uc3QgbGV2ZWxFcnJvciA9IGBcXGBsZXZlbFxcYCBpbnZhbGlkLCBtdXN0IGJlOiAke2xldmVscy5qb2luKCcsICcpfWA7XG5jb25zdCBuYW1lID1cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCdcbiAgICA/IGZhbHNlXG4gICAgOiBwcm9jZXNzLmVudi5IT1NUTkFNRSB8fCBvcy5ob3N0bmFtZSgpO1xuXG4vLyA8aHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9pcy1wbGFpbi1vYmovYmxvYi9tYWluL2luZGV4LmpzPlxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IHByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSk7XG4gIHJldHVybiAoXG4gICAgKHByb3RvdHlwZSA9PT0gbnVsbCB8fFxuICAgICAgcHJvdG90eXBlID09PSBPYmplY3QucHJvdG90eXBlIHx8XG4gICAgICBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG90eXBlKSA9PT0gbnVsbCkgJiZcbiAgICAhKFN5bWJvbC50b1N0cmluZ1RhZyBpbiB2YWx1ZSkgJiZcbiAgICAhKFN5bWJvbC5pdGVyYXRvciBpbiB2YWx1ZSkgJiZcbiAgICAhaXNTeW1ib2wodmFsdWUpXG4gICk7XG59XG5cbi8vIDxodHRwczovL2dpdGh1Yi5jb20vR2VlbmVuVGlqZC9kb3RpZnkvYmxvYi9tYXN0ZXIvZG90aWZ5LmpzPlxuZnVuY3Rpb24gZG90aWZ5VG9BcnJheShvYmopIHtcbiAgY29uc3QgcmVzID0gW107XG4gIGZ1bmN0aW9uIHJlY3Vyc2Uob2JqLCBjdXJyZW50KSB7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgUmVmbGVjdC5vd25LZXlzKG9iaikpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG4gICAgICBjb25zdCBjb252ZXJ0ZWRLZXkgPSBpc1N5bWJvbChrZXkpXG4gICAgICAgID8gU3ltYm9sLmtleUZvcihrZXkpIHx8IGtleS5kZXNjcmlwdGlvblxuICAgICAgICA6IGtleTtcbiAgICAgIGNvbnN0IG5ld0tleSA9IGN1cnJlbnQgPyBjdXJyZW50ICsgJy4nICsgY29udmVydGVkS2V5IDogY29udmVydGVkS2V5OyAvLyBqb2luZWQga2V5IHdpdGggZG90XG4gICAgICAvLyBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiAhKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkgJiYgIU9iamVjdElELmlzVmFsaWQodmFsdWUpKSB7XG4gICAgICBpZiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkgJiYgcmVzLmluZGV4T2YoY29udmVydGVkS2V5KSA9PT0gLTEpIHtcbiAgICAgICAgcmVzLnB1c2goY29udmVydGVkS2V5KTtcbiAgICAgICAgcmVjdXJzZSh2YWx1ZSwgbmV3S2V5KTsgLy8gaXQncyBhIG5lc3RlZCBvYmplY3QsIHNvIGRvIGl0IGFnYWluXG4gICAgICB9IGVsc2UgaWYgKHJlcy5pbmRleE9mKG5ld0tleSkgPT09IC0xKSB7XG4gICAgICAgIHJlcy5wdXNoKG5ld0tleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVjdXJzZShvYmopO1xuICByZXR1cm4gcmVzO1xufVxuXG4vLyA8aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQzMjMzMTYzPlxuZnVuY3Rpb24gaXNFbXB0eSh2YWx1ZSkge1xuICByZXR1cm4gKFxuICAgIHZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICB2YWx1ZSA9PT0gbnVsbCB8fFxuICAgICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIFJlZmxlY3Qub3duS2V5cyh2YWx1ZSkubGVuZ3RoID09PSAwKSB8fFxuICAgICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLnRyaW0oKS5sZW5ndGggPT09IDApXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzTnVsbCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnO1xufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGdldEZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlIDogbnVsbDtcbn1cblxuY2xhc3MgQXhlIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbiAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcbiAgICBjb25zdCByZW1hcHBlZEZpZWxkcyA9IHt9O1xuICAgIGlmIChwcm9jZXNzLmVudi5BWEVfUkVNQVBQRURfTUVUQV9GSUVMRFMpIHtcbiAgICAgIGNvbnN0IGZpZWxkcyA9IHByb2Nlc3MuZW52LkFYRV9SRU1BUFBFRF9NRVRBX0ZJRUxEUztcbiAgICAgIGNvbnN0IGFyciA9IGZpZWxkcy5zcGxpdCgnLCcpLm1hcCgodikgPT4gdi5zcGxpdCgnOicpKTtcbiAgICAgIGZvciAoY29uc3QgW3Byb3AsIHZhbHVlXSBvZiBhcnIpIHtcbiAgICAgICAgcmVtYXBwZWRGaWVsZHNbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBlbnZpZnkgZG9lcyBub3Qgc3VwcG9ydCBjb25kaXRpb25hbHMgd2VsbCBlbm91Z2ggc28gd2UgZGVjbGFyZSB2YXJzIG91dHNpZGVcbiAgICBsZXQgb21pdHRlZEZpZWxkcyA9IHByb2Nlc3MuZW52LkFYRV9PTUlUX01FVEFfRklFTERTO1xuICAgIGlmICh0eXBlb2Ygb21pdHRlZEZpZWxkcyA9PT0gJ3N0cmluZycpXG4gICAgICBvbWl0dGVkRmllbGRzID0gb21pdHRlZEZpZWxkcy5zcGxpdCgnLCcpLm1hcCgocykgPT4gcy50cmltKCkpO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShvbWl0dGVkRmllbGRzKSkgb21pdHRlZEZpZWxkcyA9IFtdO1xuXG4gICAgbGV0IHBpY2tlZEZpZWxkcyA9IHByb2Nlc3MuZW52LkFYRV9QSUNLX01FVEFfRklFTERTO1xuICAgIGlmICh0eXBlb2YgcGlja2VkRmllbGRzID09PSAnc3RyaW5nJylcbiAgICAgIHBpY2tlZEZpZWxkcyA9IHBpY2tlZEZpZWxkcy5zcGxpdCgnLCcpLm1hcCgocykgPT4gcy50cmltKCkpO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShwaWNrZWRGaWVsZHMpKSBwaWNrZWRGaWVsZHMgPSBbXTtcblxuICAgIHRoaXMuY29uZmlnID0gbWVyZ2VPcHRpb25zKFxuICAgICAge1xuICAgICAgICBzaG93U3RhY2s6IHByb2Nlc3MuZW52LkFYRV9TSE9XX1NUQUNLXG4gICAgICAgICAgPyBib29sZWFuKHByb2Nlc3MuZW52LkFYRV9TSE9XX1NUQUNLKVxuICAgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgbWV0YTogT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzaG93OiBwcm9jZXNzLmVudi5BWEVfU0hPV19NRVRBXG4gICAgICAgICAgICAgID8gYm9vbGVhbihwcm9jZXNzLmVudi5BWEVfU0hPV19NRVRBKVxuICAgICAgICAgICAgICA6IHRydWUsXG4gICAgICAgICAgICByZW1hcHBlZEZpZWxkcyxcbiAgICAgICAgICAgIG9taXR0ZWRGaWVsZHMsXG4gICAgICAgICAgICBwaWNrZWRGaWVsZHMsXG4gICAgICAgICAgICBjbGVhbnVwUmVtYXBwaW5nOiB0cnVlLFxuICAgICAgICAgICAgaGlkZUhUVFA6ICdpc19odHRwJyxcbiAgICAgICAgICAgIC8vIGltcGxlbWVudGVkIG1haW5seSBmb3IgQGxhZGpzL2dyYWNlZnVsIHRvXG4gICAgICAgICAgICAvLyBzdXBwcmVzcyB1bm5lY2Vzc2FyeSBtZXRhIG91dHB1dCB0byBjb25zb2xlXG4gICAgICAgICAgICBoaWRlTWV0YTogJ2hpZGVfbWV0YSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIHR5cGVvZiBjb25maWcubWV0YSA9PT0gJ29iamVjdCcgPyBjb25maWcubWV0YSA6IHt9XG4gICAgICAgICksXG4gICAgICAgIHZlcnNpb246IHBrZy52ZXJzaW9uLFxuICAgICAgICBzaWxlbnQ6IGZhbHNlLFxuICAgICAgICBsb2dnZXI6IGNvbnNvbGUsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGxldmVsOiAnaW5mbycsXG4gICAgICAgIGxldmVsczogWydpbmZvJywgJ3dhcm4nLCAnZXJyb3InLCAnZmF0YWwnXSxcbiAgICAgICAgYXBwSW5mbzogcHJvY2Vzcy5lbnYuQVhFX0FQUF9JTkZPXG4gICAgICAgICAgPyBib29sZWFuKHByb2Nlc3MuZW52LkFYRV9BUFBfSU5GTylcbiAgICAgICAgICA6IHRydWUsXG4gICAgICAgIGhvb2tzOiBPYmplY3QuYXNzaWduKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHByZTogW10sXG4gICAgICAgICAgICBwb3N0OiBbXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHlwZW9mIGNvbmZpZy5ob29rcyA9PT0gJ29iamVjdCcgPyBjb25maWcuaG9va3MgOiB7fVxuICAgICAgICApXG4gICAgICB9LFxuICAgICAgY29uZmlnXG4gICAgKTtcblxuICAgIHRoaXMuYXBwSW5mbyA9IHRoaXMuY29uZmlnLmFwcEluZm9cbiAgICAgID8gaXNGdW5jdGlvbihwYXJzZUFwcEluZm8pXG4gICAgICAgID8gcGFyc2VBcHBJbmZvKClcbiAgICAgICAgOiBmYWxzZVxuICAgICAgOiBmYWxzZTtcblxuICAgIHRoaXMubG9nID0gdGhpcy5sb2cuYmluZCh0aGlzKTtcblxuICAgIC8vIEluaGVyaXQgbWV0aG9kcyBmcm9tIHBhcmVudCBsb2dnZXJcbiAgICBjb25zdCBtZXRob2RzID0gT2JqZWN0LmtleXModGhpcy5jb25maWcubG9nZ2VyKS5maWx0ZXIoXG4gICAgICAoa2V5KSA9PiAhb21pdHRlZExvZ2dlcktleXMuaGFzKGtleSlcbiAgICApO1xuICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBtZXRob2RzKSB7XG4gICAgICB0aGlzW2VsZW1lbnRdID0gdGhpcy5jb25maWcubG9nZ2VyW2VsZW1lbnRdO1xuICAgIH1cblxuICAgIC8vIEJpbmQgaGVscGVyIGZ1bmN0aW9ucyBmb3IgZWFjaCBsb2cgbGV2ZWxcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgbGV2ZWxzKSB7XG4gICAgICAvLyBFbnN1cmUgZnVuY3Rpb24gZXhpc3RzIGluIGxvZ2dlciBwYXNzZWRcbiAgICAgIGlmIChlbGVtZW50ID09PSAnZmF0YWwnKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmxvZ2dlci5mYXRhbCA9XG4gICAgICAgICAgZ2V0RnVuY3Rpb24odGhpcy5jb25maWcubG9nZ2VyW2VsZW1lbnRdKSB8fFxuICAgICAgICAgIGdldEZ1bmN0aW9uKHRoaXMuY29uZmlnLmxvZ2dlci5lcnJvcikgfHxcbiAgICAgICAgICBnZXRGdW5jdGlvbih0aGlzLmNvbmZpZy5sb2dnZXIuaW5mbykgfHxcbiAgICAgICAgICBnZXRGdW5jdGlvbih0aGlzLmNvbmZpZy5sb2dnZXIubG9nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmxvZ2dlcltlbGVtZW50XSA9XG4gICAgICAgICAgZ2V0RnVuY3Rpb24odGhpcy5jb25maWcubG9nZ2VyW2VsZW1lbnRdKSB8fFxuICAgICAgICAgIGdldEZ1bmN0aW9uKHRoaXMuY29uZmlnLmxvZ2dlci5pbmZvKSB8fFxuICAgICAgICAgIGdldEZ1bmN0aW9uKHRoaXMuY29uZmlnLmxvZ2dlci5sb2cpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzRnVuY3Rpb24odGhpcy5jb25maWcubG9nZ2VyW2VsZW1lbnRdKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFxcYCR7ZWxlbWVudH1cXGAgbXVzdCBiZSBhIGZ1bmN0aW9uIG9uIHRoZSBsb2dnZXIuYCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEJpbmQgbG9nIGhhbmRsZXIgd2hpY2ggbm9ybWFsaXplcyBhcmdzIGFuZCBwb3B1bGF0ZXMgbWV0YVxuICAgICAgdGhpc1tlbGVtZW50XSA9ICguLi5hcmdzKSA9PlxuICAgICAgICB0aGlzLmxvZyhlbGVtZW50LCAuLi5BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRMZXZlbCA9IHRoaXMuc2V0TGV2ZWwuYmluZCh0aGlzKTtcbiAgICB0aGlzLmdldE5vcm1hbGl6ZWRMZXZlbCA9IHRoaXMuZ2V0Tm9ybWFsaXplZExldmVsLmJpbmQodGhpcyk7XG4gICAgdGhpcy5zZXROYW1lID0gdGhpcy5zZXROYW1lLmJpbmQodGhpcyk7XG5cbiAgICAvLyBTZXQgdGhlIGxvZ2dlciBuYW1lXG4gICAgaWYgKHRoaXMuY29uZmlnLm5hbWUpIHRoaXMuc2V0TmFtZSh0aGlzLmNvbmZpZy5uYW1lKTtcblxuICAgIC8vIFNldCB0aGUgbG9nZ2VyIGxldmVsXG4gICAgdGhpcy5zZXRMZXZlbCh0aGlzLmNvbmZpZy5sZXZlbCk7XG5cbiAgICAvLyBBbGlhc2VzXG4gICAgdGhpcy5lcnIgPSB0aGlzLmVycm9yO1xuICAgIHRoaXMud2FybmluZyA9IHRoaXMud2FybjtcblxuICAgIC8vIFByZSBhbmQgUG9zdCBIb29rc1xuICAgIHRoaXMucHJlID0gZnVuY3Rpb24gKGxldmVsLCBmbikge1xuICAgICAgdGhpcy5jb25maWcuaG9va3MucHJlLnB1c2goZnVuY3Rpb24gKF9sZXZlbCwgLi4uYXJncykge1xuICAgICAgICBpZiAobGV2ZWwgIT09IF9sZXZlbCkgcmV0dXJuIFsuLi5hcmdzXTtcbiAgICAgICAgcmV0dXJuIGZuKC4uLmFyZ3MpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMucG9zdCA9IGZ1bmN0aW9uIChsZXZlbCwgZm4pIHtcbiAgICAgIHRoaXMuY29uZmlnLmhvb2tzLnBvc3QucHVzaChmdW5jdGlvbiAoX2xldmVsLCAuLi5hcmdzKSB7XG4gICAgICAgIGlmIChsZXZlbCAhPT0gX2xldmVsKSByZXR1cm4gWy4uLmFyZ3NdO1xuICAgICAgICByZXR1cm4gZm4oLi4uYXJncyk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgc2V0TGV2ZWwobGV2ZWwpIHtcbiAgICBpZiAoIWlzU3RyaW5nKGxldmVsKSB8fCBsZXZlbHMuaW5kZXhPZihsZXZlbCkgPT09IC0xKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGxldmVsRXJyb3IpO1xuICAgIC8vIFN1cHBvcnQgc2lnbmFsZSBsb2dnZXIgYW5kIG90aGVyIGxvZ2dlcnMgdGhhdCB1c2UgYGxvZ0xldmVsYFxuICAgIGlmIChpc1N0cmluZyh0aGlzLmNvbmZpZy5sb2dnZXIubG9nTGV2ZWwpKVxuICAgICAgdGhpcy5jb25maWcubG9nZ2VyLmxvZ0xldmVsID0gbGV2ZWw7XG4gICAgZWxzZSB0aGlzLmNvbmZpZy5sb2dnZXIubGV2ZWwgPSBsZXZlbDtcbiAgICAvLyBBZGp1c3RzIGB0aGlzLmNvbmZpZy5sZXZlbHNgIGFycmF5XG4gICAgLy8gc28gdGhhdCBpdCBoYXMgYWxsIHByb2NlZWRpbmcgKGluY2x1c2l2ZSlcbiAgICB0aGlzLmNvbmZpZy5sZXZlbHMgPSBsZXZlbHMuc2xpY2UobGV2ZWxzLmluZGV4T2YobGV2ZWwpKTtcbiAgfVxuXG4gIGdldE5vcm1hbGl6ZWRMZXZlbChsZXZlbCkge1xuICAgIGlmICghaXNTdHJpbmcobGV2ZWwpKSByZXR1cm4gJ2luZm8nO1xuICAgIGlmIChpc1N0cmluZyhhbGlhc2VzW2xldmVsXSkpIHJldHVybiBhbGlhc2VzW2xldmVsXTtcbiAgICBpZiAobGV2ZWxzLmluZGV4T2YobGV2ZWwpID09PSAtMSkgcmV0dXJuICdpbmZvJztcbiAgICByZXR1cm4gbGV2ZWw7XG4gIH1cblxuICBzZXROYW1lKG5hbWUpIHtcbiAgICBpZiAoIWlzU3RyaW5nKG5hbWUpKSB0aHJvdyBuZXcgRXJyb3IoJ2BuYW1lYCBtdXN0IGJlIGEgU3RyaW5nJyk7XG4gICAgLy8gU3VwcG9ydCBzaWduYWxlIGxvZ2dlciBhbmQgb3RoZXIgbG9nZ2VycyB0aGF0IHVzZSBgc2NvcGVgXG4gICAgaWYgKGlzU3RyaW5nKHRoaXMuY29uZmlnLmxvZ2dlci5zY29wZSkpIHRoaXMuY29uZmlnLmxvZ2dlci5zY29wZSA9IG5hbWU7XG4gICAgZWxzZSB0aGlzLmNvbmZpZy5sb2dnZXIubmFtZSA9IG5hbWU7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuICBsb2cobGV2ZWwsIG1lc3NhZ2UsIG1ldGEsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBvcmlnaW5hbEFyZ3MgPSBbXTtcbiAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICBsZXQgaGFzTWVzc2FnZSA9IGZhbHNlO1xuICAgIGxldCBoYXNMZXZlbCA9IHRydWU7XG5cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGxldmVsKSkgb3JpZ2luYWxBcmdzLnB1c2gobGV2ZWwpO1xuICAgIGlmICghaXNVbmRlZmluZWQobWVzc2FnZSkpIG9yaWdpbmFsQXJncy5wdXNoKG1lc3NhZ2UpO1xuICAgIGlmICghaXNVbmRlZmluZWQobWV0YSkpIG9yaWdpbmFsQXJncy5wdXNoKG1ldGEpO1xuICAgIGZvciAoY29uc3QgYXJnIG9mIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpKSB7XG4gICAgICBvcmlnaW5hbEFyZ3MucHVzaChhcmcpO1xuICAgIH1cblxuICAgIGxldCBtb2RpZmllciA9IDA7XG5cbiAgICBpZiAoaXNTdHJpbmcobGV2ZWwpICYmIGlzU3RyaW5nKGFsaWFzZXNbbGV2ZWxdKSkge1xuICAgICAgbGV2ZWwgPSBhbGlhc2VzW2xldmVsXTtcbiAgICB9IGVsc2UgaWYgKGlzRXJyb3IobGV2ZWwpKSB7XG4gICAgICBoYXNMZXZlbCA9IGZhbHNlO1xuICAgICAgbWV0YSA9IG1lc3NhZ2U7XG4gICAgICBtZXNzYWdlID0gbGV2ZWw7XG4gICAgICBsZXZlbCA9ICdlcnJvcic7XG4gICAgfSBlbHNlIGlmICghaXNTdHJpbmcobGV2ZWwpIHx8IGxldmVscy5pbmRleE9mKGxldmVsKSA9PT0gLTEpIHtcbiAgICAgIGhhc0xldmVsID0gZmFsc2U7XG4gICAgICBtZXRhID0gbWVzc2FnZTtcbiAgICAgIG1lc3NhZ2UgPSBsZXZlbDtcbiAgICAgIGxldmVsID0gdGhpcy5nZXROb3JtYWxpemVkTGV2ZWwobGV2ZWwpO1xuICAgICAgbW9kaWZpZXIgPSAtMTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gZWFybHkgaWYgaXQgaXMgbm90IGEgdmFsaWQgbG9nZ2luZyBsZXZlbFxuICAgIGlmICh0aGlzLmNvbmZpZy5sZXZlbHMuaW5kZXhPZihsZXZlbCkgPT09IC0xKSByZXR1cm47XG5cbiAgICAvLyBCdW55YW4gc3VwcG9ydCAobWV0YSwgbWVzc2FnZSwgLi4uYXJncylcbiAgICBsZXQgaXNCdW55YW4gPSBmYWxzZTtcbiAgICBpZiAoKGlzT2JqZWN0KG1lc3NhZ2UpIHx8IEFycmF5LmlzQXJyYXkobWVzc2FnZSkpICYmIGlzU3RyaW5nKG1ldGEpKSB7XG4gICAgICBpc0J1bnlhbiA9IHRydWU7XG4gICAgICBjb25zdCBfbWV0YSA9IG1ldGE7XG4gICAgICBtZXRhID0gbWVzc2FnZTtcbiAgICAgIG1lc3NhZ2UgPVxuICAgICAgICBpc1N0cmluZyhfbWV0YSkgJiYgb3JpZ2luYWxBcmdzLmxlbmd0aCA+PSAzICsgbW9kaWZpZXJcbiAgICAgICAgICA/IGZvcm1hdCguLi5vcmlnaW5hbEFyZ3Muc2xpY2UoMiArIG1vZGlmaWVyKSlcbiAgICAgICAgICA6IF9tZXRhO1xuICAgIH1cblxuICAgIC8vIElmIG1lc3NhZ2Ugd2FzIHVuZGVmaW5lZCB0aGVuIHNldCBpdCB0byBsZXZlbFxuICAgIGlmIChpc1VuZGVmaW5lZChtZXNzYWdlKSkgbWVzc2FnZSA9IGxldmVsO1xuXG4gICAgLy8gSWYgb25seSBgbWVzc2FnZWAgd2FzIHBhc3NlZCB0aGVuIGlmIGl0IHdhcyBhbiBPYmplY3RcbiAgICAvLyBwcmVzZXJ2ZSBpdCBhcyBhbiBPYmplY3QgYnkgc2V0dGluZyBpdCBhcyBtZXRhXG4gICAgaWYgKFxuICAgICAgb3JpZ2luYWxBcmdzLnNsaWNlKDEgKyBtb2RpZmllcikubGVuZ3RoID09PSAxICYmXG4gICAgICAhaXNTdHJpbmcobWVzc2FnZSkgJiZcbiAgICAgICFpc0Vycm9yKG1lc3NhZ2UpXG4gICAgKSB7XG4gICAgICBtZXRhID0geyBtZXNzYWdlIH07XG4gICAgICBtZXNzYWdlID0gbGV2ZWw7XG4gICAgfSBlbHNlIGlmICghaXNCdW55YW4gJiYgb3JpZ2luYWxBcmdzLmxlbmd0aCA+PSA0ICsgbW9kaWZpZXIpIHtcbiAgICAgIG1lc3NhZ2UgPSB1bmRlZmluZWQ7XG4gICAgICBtZXRhID0ge307XG4gICAgICBjb25zdCBtZXNzYWdlcyA9IFtdO1xuICAgICAgZm9yIChjb25zdCBhcmcgb2Ygb3JpZ2luYWxBcmdzLnNsaWNlKFxuICAgICAgICBoYXNMZXZlbCAmJiBtb2RpZmllciA9PT0gMCA/IDEgOiAwXG4gICAgICApKSB7XG4gICAgICAgIGlmIChpc0Vycm9yKGFyZykpIGVycm9ycy5wdXNoKGFyZyk7XG4gICAgICAgIC8vIHB1c2hlcyBudW1iZXIsIG9iamVjdCwgc3RyaW5nLCBldGMgZm9yIGZvcm1hdHRpbmdcbiAgICAgICAgZWxzZSBtZXNzYWdlcy5wdXNoKGFyZyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBmb3JtYXQoLi4ubWVzc2FnZXMpO1xuICAgICAgICBoYXNNZXNzYWdlID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVycm9ycy5sZW5ndGggPiAwICYmIGxldmVsID09PSAnbG9nJykgbGV2ZWwgPSAnZXJyb3InO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAhaXNCdW55YW4gJiZcbiAgICAgIG9yaWdpbmFsQXJncy5sZW5ndGggPT09IDMgKyBtb2RpZmllciAmJlxuICAgICAgaXNTdHJpbmcobWVzc2FnZSkgJiZcbiAgICAgIGZvcm1hdFNwZWNpZmllcnMuc29tZSgodCkgPT4gbWVzc2FnZS5pbmRleE9mKHQpICE9PSAtMSlcbiAgICApIHtcbiAgICAgIC8vIE90aGVyd2lzZSBpZiB0aGVyZSBhcmUgdGhyZWUgYXJncyBhbmQgaWYgdGhlIGBtZXNzYWdlYCBjb250YWluc1xuICAgICAgLy8gYSBwbGFjZWhvbGRlciB0b2tlbiAoZS5nLiAnJXMnIG9yICclZCcgLSBzZWUgYWJvdmUgYGZvcm1hdFNwZWNpZmllcnNgIHZhcmlhYmxlKVxuICAgICAgLy8gdGhlbiB3ZSBjYW4gaW5mZXIgdGhhdCB0aGUgYG1ldGFgIGFyZyBwYXNzZWQgaXMgdXNlZCBmb3IgZm9ybWF0dGluZ1xuICAgICAgbWVzc2FnZSA9IGZvcm1hdChtZXNzYWdlLCBtZXRhKTtcbiAgICAgIG1ldGEgPSB7fTtcbiAgICB9IGVsc2UgaWYgKCFpc0Vycm9yKG1lc3NhZ2UpKSB7XG4gICAgICBpZiAoaXNFcnJvcihtZXRhKSkge1xuICAgICAgICBlcnJvcnMucHVzaChtZXRhKTtcbiAgICAgICAgbWV0YSA9IHt9O1xuICAgICAgfSBlbHNlIGlmICghaXNPYmplY3QobWV0YSkgJiYgIWlzVW5kZWZpbmVkKG1ldGEpICYmICFpc051bGwobWV0YSkpIHtcbiAgICAgICAgLy8gSWYgdGhlIGBtZXRhYCB2YXJpYWJsZSBwYXNzZWQgd2FzIG5vdCBhbiBPYmplY3QgdGhlbiBjb252ZXJ0IGl0XG4gICAgICAgIG1lc3NhZ2UgPSBmb3JtYXQobWVzc2FnZSwgbWV0YSk7XG4gICAgICAgIG1ldGEgPSB7fTtcbiAgICAgIH0gZWxzZSBpZiAoIWlzU3RyaW5nKG1lc3NhZ2UpKSB7XG4gICAgICAgIC8vIElmIHRoZSBtZXNzYWdlIGlzIG5vdCBhIHN0cmluZyB0aGVuIHdlIHNob3VsZCBydW4gYHV0aWwuZm9ybWF0YCBvbiBpdFxuICAgICAgICAvLyBhc3N1bWluZyB3ZSdyZSBmb3JtYXR0aW5nIGl0IGxpa2UgaXQgd2FzIGFub3RoZXIgYXJndW1lbnRcbiAgICAgICAgLy8gKGFzIG9wcG9zZWQgdG8gdXNpbmcgc29tZXRoaW5nIGxpa2UgZmFzdC1qc29uLXN0cmluZ2lmeSlcbiAgICAgICAgbWVzc2FnZSA9IGZvcm1hdChtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzRXJyb3IobWV0YSkpIHtcbiAgICAgIGVycm9ycy5wdXNoKG1ldGEpO1xuICAgICAgLy8gaGFuZGxlIGFkZGl0aW9uYWwgYXJnc1xuICAgICAgY29uc3QgbWVzc2FnZXMgPSBbXTtcbiAgICAgIGlmIChpc0Vycm9yKG1lc3NhZ2UpKSB7XG4gICAgICAgIGVycm9ycy51bnNoaWZ0KG1lc3NhZ2UpO1xuICAgICAgICBtZXNzYWdlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IGFyZyBvZiBvcmlnaW5hbEFyZ3Muc2xpY2UoMiArIG1vZGlmaWVyKSkge1xuICAgICAgICAvLyBzaG91bGQgc2tpcCB0aGlzIGJldHRlciB3aXRoIHNsaWNlIGFuZCBtb2RpZmllciBhZGp1c3RtZW50XG4gICAgICAgIGlmIChtZXRhID09PSBhcmcpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoaXNFcnJvcihhcmcpKSBlcnJvcnMucHVzaChhcmcpO1xuICAgICAgICBlbHNlIG1lc3NhZ2VzLnB1c2goYXJnKTtcblxuICAgICAgICBpZiAobWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIG1lc3NhZ2UgPSBmb3JtYXQoLi4ubWVzc2FnZXMpO1xuICAgICAgICAgIGhhc01lc3NhZ2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChsZXZlbCA9PT0gJ2xvZycpIGxldmVsID0gJ2Vycm9yJztcblxuICAgICAgbWV0YSA9IHt9O1xuICAgIH1cblxuICAgIGlmICghaXNVbmRlZmluZWQobWV0YSkgJiYgIWlzT2JqZWN0KG1ldGEpKSBtZXRhID0geyBvcmlnaW5hbF9tZXRhOiBtZXRhIH07XG4gICAgZWxzZSBpZiAoIWlzT2JqZWN0KG1ldGEpKSBtZXRhID0ge307XG5cbiAgICBpZiAoaXNFcnJvcihtZXNzYWdlKSkge1xuICAgICAgZXJyb3JzLnVuc2hpZnQobWVzc2FnZSk7XG4gICAgICBtZXNzYWdlID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8vXG4gICAgLy8gcmV3cml0ZSBgbWV0YS5lcnJgIHRvIGBtZXRhLm9yaWdpbmFsX2VycmAgZm9yIGNvbnNpc3RlbmN5XG4gICAgLy8gKGluIGNhc2Ugc29tZW9uZSBoYXMgYW4gb2JqZWN0IHdpdGggYC5lcnJgIHByb3BlcnR5IG9uIGl0IHdpdGggYW4gZXJyb3IpXG4gICAgLy9cbiAgICBpZiAoaXNPYmplY3QobWV0YS5lcnIpKSB7XG4gICAgICBpZiAoaXNFcnJvcihtZXRhLmVycikpIGVycm9ycy5wdXNoKG1ldGEuZXJyKTtcbiAgICAgIG1ldGEub3JpZ2luYWxfZXJyID0gaXNFcnJvcihtZXRhLmVycikgPyBwYXJzZUVycihtZXRhLmVycikgOiBtZXRhLmVycjtcbiAgICB9XG5cbiAgICBsZXQgZXJyO1xuICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKGVycm9ycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgZXJyID0gZXJyb3JzWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXJyID0gbmV3IEVycm9yKFxuICAgICAgICAgIFsuLi5uZXcgU2V0KGVycm9ycy5tYXAoKGUpID0+IGUubWVzc2FnZSkuZmlsdGVyKEJvb2xlYW4pKV0uam9pbignOyAnKVxuICAgICAgICApO1xuICAgICAgICBlcnIuc3RhY2sgPSBbXG4gICAgICAgICAgLi4ubmV3IFNldChlcnJvcnMubWFwKChlKSA9PiBlLnN0YWNrKS5maWx0ZXIoQm9vbGVhbikpXG4gICAgICAgIF0uam9pbignXFxuXFxuJyk7XG4gICAgICAgIGVyci5lcnJvcnMgPSBlcnJvcnM7XG4gICAgICB9XG5cbiAgICAgIG1ldGEuZXJyID0gcGFyc2VFcnIoZXJyKTtcbiAgICAgIGlmICghaXNTdHJpbmcobWVzc2FnZSkpIG1lc3NhZ2UgPSBlcnIubWVzc2FnZTtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIE5PVEU6IHRoaXMgd2FzIHJlbW92ZWQgaW4gdjEwLjIuMiBkdWUgdG8gY2lyY3VsYXIgcmVmZXJlbmNlIGlzc3Vlc1xuICAgIC8vICAgICAgICh0aGUgd29ya2Fyb3VuZCB3b3VsZCBpbnZvbHZlIHNhZmVTdHJpbmdpZnkgYW5kIHRoZW4gSlNPTi5wYXJzZSB3aGljaCB3b3VsZCBiZSBwZXJmIGJsb2F0KVxuICAgIC8vICAgICAgICh0aGVyZSBzdGlsbCBtaWdodCBiZSBhbm90aGVyIHdvcmthcm91bmQgb3IgcGVyaGFwcyB3ZSBkb24ndCBhZGQgYWxsIHRoZSBhcmdzIGhlcmUgZXhjZXB0IGFkZGl0aW9uYWwpXG4gICAgLy9cbiAgICAvLyBTZXQgYGFyZ3NgIHByb3Agd2l0aCBvcmlnaW5hbCBhcmd1bWVudHMgcGFzc2VkXG4gICAgLy8gbWV0YS5hcmdzID0gb3JpZ2luYWxBcmdzO1xuXG4gICAgLy8gU2V0IGRlZmF1bHQgbGV2ZWwgb24gbWV0YVxuICAgIG1ldGEubGV2ZWwgPSBsZXZlbDtcblxuICAgIC8vIEFkZCBgYXBwYCBvYmplY3QgdG8gbWV0YWRhdGFcbiAgICBpZiAodGhpcy5hcHBJbmZvKSBtZXRhLmFwcCA9IHRoaXMuYXBwSW5mbztcblxuICAgIC8vXG4gICAgLy8gZGV0ZXJtaW5lIGxvZyBtZXRob2QgdG8gdXNlXG4gICAgLy9cbiAgICAvLyBpZiB3ZSBkaWRuJ3QgcGFzcyBhIGxldmVsIGFzIGEgbWV0aG9kXG4gICAgLy8gKGUuZy4gY29uc29sZS5pbmZvKSwgdGhlbiB3ZSBzaG91bGQgc3RpbGxcbiAgICAvLyB1c2UgdGhlIGxvZ2dlcidzIGBsb2dgIG1ldGhvZCB0byBvdXRwdXRcbiAgICAvL1xuICAgIC8vIGFuZCBmYXRhbCBzaG91bGQgdXNlIGVycm9yIChlLmcuIGluIGJyb3dzZXIpXG4gICAgLy9cbiAgICBjb25zdCBtZXRob2QgPSBtb2RpZmllciA9PT0gLTEgPyAnbG9nJyA6IGxldmVsO1xuXG4gICAgLy8gcHJlLWhvb2tzXG4gICAgZm9yIChjb25zdCBob29rIG9mIHRoaXMuY29uZmlnLmhvb2tzLnByZSkge1xuICAgICAgW2VyciwgbWVzc2FnZSwgbWV0YV0gPSBob29rKG1ldGhvZCwgZXJyLCBtZXNzYWdlLCBtZXRhKTtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIE5PVEU6IHVzaW5nIGxvZGFzaCBfLm9taXQgYW5kIF8ucGljayB3b3VsZCBoYXZlIGJlZW4gX3Zlcnkgc2xvd19cbiAgICAvL1xuICAgIC8vIGNvbnN0IG9taXR0ZWRBbmRQaWNrZWRGaWVsZHMgPSB7XG4gICAgLy8gICAuLi5fLm9taXQobWV0YSwgdGhpcy5jb25maWcubWV0YS5vbWl0dGVkRmllbGRzKSxcbiAgICAvLyAgIC4uLl8ucGljayhtZXRhLCB0aGlzLmNvbmZpZy5tZXRhLnBpY2tlZEZpZWxkcylcbiAgICAvLyB9O1xuICAgIC8vXG4gICAgLy8gYWxzbyB3ZSBkb24ndCB3YW50IHRvIG11dGF0ZSBhbnl0aGluZyBpbiBgbWV0YWBcbiAgICAvLyBhbmQgaWRlYWxseSB3ZSBvbmx5IHdhbnQgdG8gcGljayBleGFjdGx5IHdoYXQgd2UgbmVlZFxuICAgIC8vIChhbmQgbm90IGhhdmUgdHdvIG9wZXJhdGlvbnMsIG9uZSBmb3Igb21pdCwgYW5kIG9uZSBmb3IgcGljaylcbiAgICAvL1xuXG4gICAgLy8gc2V0IGEgYm9vbGVhbiBmbGFnIGlmIHdlIGhhZCB0aGUgc2lsZW50IHN5bWJvbCBvciBub3RcbiAgICBjb25zdCBoYWRUcnVlU2lsZW50U3ltYm9sID0gYm9vbGVhbihtZXRhW3NpbGVudFN5bWJvbF0pO1xuXG4gICAgaWYgKCFpc0VtcHR5KHRoaXMuY29uZmlnLm1ldGEucmVtYXBwZWRGaWVsZHMpKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBSZWZsZWN0Lm93bktleXModGhpcy5jb25maWcubWV0YS5yZW1hcHBlZEZpZWxkcykpIHtcbiAgICAgICAgc2V0KG1ldGEsIHRoaXMuY29uZmlnLm1ldGEucmVtYXBwZWRGaWVsZHNba2V5XSwgZ2V0KG1ldGEsIGtleSkpO1xuICAgICAgICB1bnNldChtZXRhLCBrZXkpO1xuICAgICAgICAvLyBjbGVhbnVwIGVtcHR5IG9iamVjdHMgYWZ0ZXIgcmVtYXBwaW5nXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5tZXRhLmNsZWFudXBSZW1hcHBpbmcpIHtcbiAgICAgICAgICBjb25zdCBpbmRleCA9IGtleS5sYXN0SW5kZXhPZignLicpO1xuICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIGNvbnRpbnVlO1xuICAgICAgICAgIGNvbnN0IHBhcmVudEtleSA9IGtleS5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgICAgaWYgKGlzRW1wdHkoZ2V0KG1ldGEsIHBhcmVudEtleSkpKSB1bnNldChtZXRhLCBwYXJlbnRLZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgIWlzRW1wdHkodGhpcy5jb25maWcubWV0YS5vbWl0dGVkRmllbGRzKSB8fFxuICAgICAgIWlzRW1wdHkodGhpcy5jb25maWcubWV0YS5waWNrZWRGaWVsZHMpXG4gICAgKSB7XG4gICAgICBjb25zdCBkb3RpZmllZCA9IGRvdGlmeVRvQXJyYXkobWV0YSk7XG4gICAgICAvLyBkb3RpZmllZCA9IFtcbiAgICAgIC8vICAgJ2Vyci5uYW1lJyxcbiAgICAgIC8vICAgJ2Vyci5tZXNzYWdlJyxcbiAgICAgIC8vICAgJ2Vyci5zdGFjaycsXG4gICAgICAvLyAgICdsZXZlbCcsXG4gICAgICAvLyAgICdhcHAubmFtZScsXG4gICAgICAvLyAgICdhcHAudmVyc2lvbicsXG4gICAgICAvLyAgICdhcHAubm9kZScsXG4gICAgICAvLyAgICdhcHAuaGFzaCcsXG4gICAgICAvLyAgIC8vIC4uLlxuICAgICAgLy8gXVxuXG4gICAgICBpZiAoIWlzRW1wdHkodGhpcy5jb25maWcubWV0YS5vbWl0dGVkRmllbGRzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHByb3Agb2YgdGhpcy5jb25maWcubWV0YS5vbWl0dGVkRmllbGRzKSB7XG4gICAgICAgICAgLy8gPGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS85ODgyMzQ5PlxuICAgICAgICAgIGxldCBpID0gZG90aWZpZWQubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgZG90aWZpZWRbaV0gPT09IHByb3AgfHxcbiAgICAgICAgICAgICAgKCFpc1N5bWJvbChkb3RpZmllZFtpXSkgJiYgZG90aWZpZWRbaV0uaW5kZXhPZihgJHtwcm9wfS5gKSA9PT0gMClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgZG90aWZpZWQuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBwaWNrZWRTeW1ib2xzID0gW107XG5cbiAgICAgIGlmICghaXNFbXB0eSh0aGlzLmNvbmZpZy5tZXRhLnBpY2tlZEZpZWxkcykpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9wIG9mIHRoaXMuY29uZmlnLm1ldGEucGlja2VkRmllbGRzKSB7XG4gICAgICAgICAgLy8gcmVzcG9uc2UuaGVhZGVycy5ib29wXG4gICAgICAgICAgLy8gcmVzcG9uc2UuaGVhZGVycy5iZWVwXG4gICAgICAgICAgLy8gcmVzcG9uc2UuYm9keVxuICAgICAgICAgIC8vIHJlc3BvbnNlLnRleHRcbiAgICAgICAgICAvLyByZXNwb25zZVxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gc28gd2UgbmVlZCB0byBzcGxpdCBieSB0aGUgZmlyc3QgcGVyaW9kIGFuZCBvbWl0IGFueSBrZXlzIGZyb20gZG90aWZpZWQgc3RhcnRpbmcgd2l0aCBpdFxuICAgICAgICAgIGlmIChpc1N5bWJvbChwcm9wKSkge1xuICAgICAgICAgICAgaWYgKG1ldGFbcHJvcF0pIHBpY2tlZFN5bWJvbHMucHVzaChbcHJvcCwgbWV0YVtwcm9wXV0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHByb3AuaW5kZXhPZignLicpO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gcHJvcC5zbGljZSgwLCBpbmRleCArIDEpO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICBsZXQgaSA9IGRvdGlmaWVkLmxlbmd0aDtcbiAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgIGlmIChkb3RpZmllZFtpXSA9PT0ga2V5LnNsaWNlKDAsIC0xKSkgZG90aWZpZWQuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRvdGlmaWVkW2ldLmluZGV4T2Yoa2V5KSA9PT0gMCkgZG90aWZpZWQuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZmluYWxseSBhZGQgaXQgaWYgaXQgZGlkIG5vdCBhbHJlYWR5IGV4aXN0XG4gICAgICAgICAgaWYgKGRvdGlmaWVkLmluZGV4T2YocHJvcCkgPT09IC0xKSBkb3RpZmllZC5wdXNoKHByb3ApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vXG4gICAgICAvLyBpdGVyYXRlIG92ZXIgYWxsIGRvdGlmaWVkIHZhbHVlcyB0byBjaGVjayBmb3Igc3ltYm9sc1xuICAgICAgLy9cbiAgICAgIC8vIE5PVEU6IHRoaXMgZG9lcyBub3QgdGFrZSBpbnRvIGFjY291bnQgdGhhdCB0aGV5IGNvdWxkIGFscmVhZHkgYmUgaW4gYHBpY2tlZFN5bWJvbHNgXG4gICAgICAvLyAgICAgICAoYW5kIGl0IGRvZXNuJ3QgYWxzbyBkbyBiaWdpbnRzIHlldClcbiAgICAgIC8vXG4gICAgICBmb3IgKGNvbnN0IHByb3Agb2YgZG90aWZpZWQpIHtcbiAgICAgICAgaWYgKGlzU3ltYm9sKHByb3ApKSB7XG4gICAgICAgICAgaWYgKG1ldGFbcHJvcF0gIT09IHVuZGVmaW5lZCkgcGlja2VkU3ltYm9scy5wdXNoKFtwcm9wLCBtZXRhW3Byb3BdXSk7XG4gICAgICAgIH0gZWxzZSBpZiAobWV0YVtTeW1ib2wuZm9yKHByb3ApXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcGlja2VkU3ltYm9scy5wdXNoKFtTeW1ib2wuZm9yKHByb3ApLCBtZXRhW1N5bWJvbC5mb3IocHJvcCldXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy9cbiAgICAgIC8vIG5vdyB3ZSBjYWxsIHBpY2stZGVlcCB1c2luZyB0aGUgZmluYWwgYXJyYXlcbiAgICAgIC8vXG4gICAgICAvLyBOT1RFOiB0aGlzIGRvZXMgbm90IHBpY2sgc3ltYm9scywgYmlnaW50cywgbm9yIHN0cmVhbXNcbiAgICAgIC8vICAgICAgIDxodHRwczovL2dpdGh1Yi5jb20vc3RyaWtlZW50Y28vcGljay1kZWVwL2lzc3Vlcy8yPlxuICAgICAgLy8gICAgICAgPGh0dHBzOi8vZ2l0aHViLmNvbS9zdHJpa2VlbnRjby9waWNrLWRlZXAvaXNzdWVzLzI+XG4gICAgICAvL1xuICAgICAgLy8gTk9URTogdGhpcyBpcyB3cmFwcGVkIGluIHRyeS9jYXRjaCBpbiBjYXNlIHNpbWlsYXIgZXJyb3JzIG9jY3VyXG4gICAgICAvLyAgICAgICA8aHR0cHM6Ly9naXRodWIuY29tL3N0cmlwZS9zdHJpcGUtbm9kZS9pc3N1ZXMvMTc5Nj5cbiAgICAgIC8vXG4gICAgICB0cnkge1xuICAgICAgICBtZXRhID0gcGlja0RlZXAobWV0YSwgZG90aWZpZWQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmxvZ2dlci5lcnJvcihlcnIpO1xuICAgICAgfVxuXG4gICAgICAvL1xuICAgICAgLy8gaWYgdGhlcmUgd2VyZSBhbnkgdG9wLWxldmVsIHN5bWJvbHMgdG8gYmVcbiAgICAgIC8vIHBpY2tlZCB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZW0gYmFjayBoZXJlIHRvIHRoZSBsaXN0XG4gICAgICAvL1xuICAgICAgLy8gTk9URTogd2UnZCBwcm9iYWJseSB3YW50IHRvIGRvIHRoZSBzYW1lIGZvciBiaWdpbnRzIGFzIHN5bWJvbHNcbiAgICAgIC8vXG4gICAgICBpZiAocGlja2VkU3ltYm9scy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHBpY2tlZFN5bWJvbHMpIHtcbiAgICAgICAgICBtZXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIG9ubHkgaW52b2tlIGxvZ2dlciBtZXRob2RzIGlmIGl0IHdhcyBub3Qgc2lsZW50XG4gICAgaWYgKCF0aGlzLmNvbmZpZy5zaWxlbnQgJiYgIWhhZFRydWVTaWxlbnRTeW1ib2wpIHtcbiAgICAgIC8vIFNob3cgc3RhY2sgdHJhY2UgaWYgbmVjZXNzYXJ5IChhbG9uZyB3aXRoIGFueSBtZXRhZGF0YSlcbiAgICAgIGlmIChpc0Vycm9yKGVycikgJiYgdGhpcy5jb25maWcuc2hvd1N0YWNrKSB7XG4gICAgICAgIGlmICghdGhpcy5jb25maWcubWV0YS5zaG93IHx8IGlzRW1wdHkobWV0YSkpIHtcbiAgICAgICAgICB0aGlzLmNvbmZpZy5sb2dnZXJbbWV0aG9kXSguLi4oaGFzTWVzc2FnZSA/IFttZXNzYWdlLCBlcnJdIDogW2Vycl0pKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICB0aGlzLmNvbmZpZy5tZXRhLmhpZGVNZXRhICYmXG4gICAgICAgICAgbWV0YVt0aGlzLmNvbmZpZy5tZXRhLmhpZGVNZXRhXVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLmNvbmZpZy5sb2dnZXJbbWV0aG9kXSguLi4oaGFzTWVzc2FnZSA/IFttZXNzYWdlLCBlcnJdIDogW2Vycl0pKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNvbmZpZy5sb2dnZXJbbWV0aG9kXShcbiAgICAgICAgICAgIC4uLihoYXNNZXNzYWdlID8gW21lc3NhZ2UsIGVyciwgbWV0YV0gOiBbZXJyLCBtZXRhXSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCF0aGlzLmNvbmZpZy5tZXRhLnNob3cgfHwgaXNFbXB0eShtZXRhKSkge1xuICAgICAgICB0aGlzLmNvbmZpZy5sb2dnZXJbbWV0aG9kXShtZXNzYWdlKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICh0aGlzLmNvbmZpZy5tZXRhLmhpZGVNZXRhICYmIG1ldGFbdGhpcy5jb25maWcubWV0YS5oaWRlTWV0YV0pIHx8XG4gICAgICAgICh0aGlzLmNvbmZpZy5tZXRhLmhpZGVIVFRQICYmIG1ldGFbdGhpcy5jb25maWcubWV0YS5oaWRlSFRUUF0pXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5jb25maWcubG9nZ2VyW21ldGhvZF0obWVzc2FnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbmZpZy5sb2dnZXJbbWV0aG9kXShtZXNzYWdlLCBtZXRhKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBwb3N0LWhvb2tzXG4gICAgaWYgKHRoaXMuY29uZmlnLmhvb2tzLnBvc3QubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIHsgbWV0aG9kLCBlcnIsIG1lc3NhZ2UsIG1ldGEgfTtcbiAgICByZXR1cm4gcE1hcFNlcmllcyh0aGlzLmNvbmZpZy5ob29rcy5wb3N0LCAoaG9vaykgPT5cbiAgICAgIGhvb2sobWV0aG9kLCBlcnIsIG1lc3NhZ2UsIG1ldGEpXG4gICAgKVxuICAgICAgLnRoZW4oKVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5jb25maWcubG9nZ2VyLmVycm9yKGVycik7XG4gICAgICB9KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEF4ZTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBQSxPQUFPLENBQUMsa0JBQWtCLENBQUM7O0FBRTNCO0FBQ0EsTUFBTUMsRUFBRSxHQUFHRCxPQUFPLENBQUMsSUFBSSxDQUFDO0FBQ3hCLE1BQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLG9CQUFvQixDQUFDO0FBQzVDLE1BQU1HLGdCQUFnQixHQUFHSCxPQUFPLENBQUMsbUJBQW1CLENBQUM7QUFDckQsTUFBTUksR0FBRyxHQUFHSixPQUFPLENBQUMsa0JBQWtCLENBQUM7QUFDdkMsTUFBTUssT0FBTyxHQUFHTCxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQ2xDLE1BQU1NLFFBQVEsR0FBR04sT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUNyQyxNQUFNTyxZQUFZLEdBQUdQLE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDN0MsTUFBTVEsVUFBVSxHQUFHUixPQUFPLENBQUMsY0FBYyxDQUFDO0FBQzFDLE1BQU1TLFlBQVksR0FBR1QsT0FBTyxDQUFDLGdCQUFnQixDQUFDO0FBQzlDLE1BQU1VLFFBQVEsR0FBR1YsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUNyQyxNQUFNVyxRQUFRLEdBQUdYLE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDckMsTUFBTVksR0FBRyxHQUFHWixPQUFPLENBQUMsa0JBQWtCLENBQUM7QUFDdkMsTUFBTWEsS0FBSyxHQUFHYixPQUFPLENBQUMsYUFBYSxDQUFDO0FBQ3BDLE1BQU07RUFBRWM7QUFBUSxDQUFDLEdBQUdkLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDdEMsTUFBTWUsR0FBRyxHQUFH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